package org.pvg.plasmagraph.controllers;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JComboBox;

import org.pvg.plasmagraph.controllers.AestheticController.ChartNameListener;
import org.pvg.plasmagraph.controllers.AestheticController.XAxisLabelListener;
import org.pvg.plasmagraph.models.AestheticModel;
import org.pvg.plasmagraph.models.ToolModel;
import org.pvg.plasmagraph.views.AestheticView;
import org.pvg.plasmagraph.views.ToolView;

public class ToolController {
	/** Reference to model related to this controller. */
	private ToolModel tool_model;
	/** Reference to view related to this controller. */
	private ToolView tool_view;

	/**
	 * 
	 * @param tool_model
	 * @param tool_view
	 */
	public ToolController(ToolModel tool_model, ToolView tool_view) {
		// Set related objects into proper positions in object.
		this.tool_model = tool_model;
		this.tool_view = tool_view;
		
		// Automatically add listeners to Aesthetic Tab via view.
		tool_view.addInterpolationListener (new InterpolationListener ());
		tool_view.addOutlierListener (new OutlierListener ());
	}
	
	/** Listener for the Interpolation optional tool that is a part of the ToolView pane. 
	 * Relies on ActionListener in order to manage messages.
	 */
	class InterpolationListener implements ActionListener {

		/**
		 * 
		 */
		@SuppressWarnings("unchecked")
		@Override
		public void actionPerformed (ActionEvent arg0) {
			tool_model.interpolate ((String) ((JComboBox<String>) arg0.getSource()).getSelectedItem());
		}
		
	}
	
	/** Listener for the Outlier Search optional tool that is a part of the ToolView pane. 
	 * Relies on FocusListener in order to manage messages.
	 */
	class OutlierListener implements ActionListener {

		/**
		 * 
		 */
		@SuppressWarnings("unchecked")
		@Override
		public void actionPerformed (ActionEvent arg0) {
			tool_model.outlier_search ((String) ((JComboBox<String>) arg0.getSource()).getSelectedItem());
		}
		
	}

	
}
